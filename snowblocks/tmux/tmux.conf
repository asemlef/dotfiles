# ------------------------------
# Basic Configuration
# ------------------------------
set -g default-terminal "xterm-256color"
set -g base-index 1
set -g pane-base-index 1
set -s escape-time 0
set -g mouse on

# set pane border colors
set -g pane-active-border-fg colour1
set -g pane-active-border-bg default

# ------------------------------
# Key Bindings
# ------------------------------
# use vim-like split bindings
bind v split-window -h -c "#{pane_current_path}"
bind s split-window -v -c "#{pane_current_path}"

# resize panes using prefix + arrow keys
bind -r Left resize-pane -L 5
bind -r Right resize-pane -R 5
bind -r Down resize-pane -D 5
bind -r Up resize-pane -U 5

# navigate panes using alt + arrow keys
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# navigate windows using shift + arrow keys
bind -n S-Right next-window
bind -n S-Left previous-window

# reload config with prefix + r
bind r source-file ~/.tmux.conf

# ------------------------------
# Status Bar
# ------------------------------
set -g status on
set -g status-interval 5
set -g status-justify left
set -g status-style bg=black,fg=white

# left side format
set -g status-left-length 70
set -g status-left "#[fg=black]#{?client_prefix,#[bg=colour226],#[bg=cyan]} #S #[bg=default]#{?client_prefix,#[fg=colour226],#[fg=cyan]} "

# window status format
set -g window-status-format "#I:#W"
set -g window-status-current-format "#I:#W"
set -g window-status-style fg=colour11
set -g window-status-current-style fg=white
set -g window-status-bell-style fg=colour1
set -g window-status-activity-style fg=colour5
set -g window-status-separator " | "

# right side format
set -g status-right-style fg=colour11
set -g status-right-length 70
status_battery="#(which pmset &> /dev/null && echo '#{battery_status_fg}#{battery_percentage} #{battery_icon}#[fg=default] • ')"
status_time="#[fg=white]#(env TZ=America/Los_Angeles date +'%%I:%%M %%p')"
set -g status-right "#H • ${status_battery}${status_time} "

# ------------------------------
# Plugins
# ------------------------------
set -g @plugin "tmux-plugins/tpm"

# sane mouse config
set -g @plugin 'nhdaly/tmux-better-mouse-mode'
set -g @scroll-down-exit-copy-mode on
set -g @scroll-without-changing-pane on
set -g @scroll-in-moused-over-pane on
set -g @scroll-speed-num-lines-per-scroll 3
set -g @emulate-scroll-for-no-mouse-alternate-buffer on

# battery percentage indicator
set -g @plugin "tmux-plugins/tmux-battery"
set -g @batt_charged_icon ""
set -g @batt_charging_icon ""
set -g @batt_attached_icon ""
set -g @batt_full_charge_icon ""
set -g @batt_high_charge_icon ""
set -g @batt_medium_charge_icon ""
set -g @batt_low_charge_icon ""

run '~/.tmux/plugins/tpm/tpm'
